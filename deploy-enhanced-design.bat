@echo off
chcp 65001 >nul
echo.
echo ════════════════════════════════════════════════════════════════
echo    🚀 ДЕПЛОЙ УЛУЧШЕННОГО ДИЗАЙНА ПО КОНЦЕПТУ
echo ════════════════════════════════════════════════════════════════
echo.

echo [1/4] 📦 Добавление обновленных файлов в Git...
git add index.html
git add style.css
git add deploy-enhanced-design.bat
echo    ✅ Файлы добавлены
echo.

echo [2/4] 💾 Создание коммита...
git commit -m "feat: Улучшенный дизайн по концепту - новые секции и улучшенный UI

🎨 Основные изменения:
- Добавлена секция возрастной проверки 16+
- Создана главная секция с крупным логотипом NO AL
- Добавлена секция 'Напитки дня' с интерактивными элементами
- Создана секция топ-напитка с изображением и навигацией
- Добавлена секция 'Топ напитки для автолюбителей'
- Улучшена цветовая схема (красный/зеленый акценты)
- Добавлены новые анимации и переходы
- Полная адаптивность для мобильных устройств
- Обновлен glassmorphism дизайн в соответствии с концептом"
echo    ✅ Коммит создан
echo.

echo [3/4] 📤 Отправка на сервер...
git push origin main
if %errorlevel% neq 0 (
    echo    ❌ Ошибка при отправке на сервер
    echo.
    echo    Возможные причины:
    echo    - Нет подключения к интернету
    echo    - Нет прав доступа к репозиторию
    echo    - Нужно настроить Git credentials
    echo.
    pause
    exit /b 1
)
echo    ✅ Изменения отправлены на сервер
echo.

echo [4/4] 🌐 Обновление GitHub Pages...
git checkout gh-pages
if %errorlevel% neq 0 (
    echo    ❌ Ошибка переключения на ветку gh-pages
    pause
    exit /b 1
)

git merge main --no-edit
if %errorlevel% neq 0 (
    echo    ❌ Ошибка слияния
    echo    Возможно, есть конфликты. Разрешите их вручную.
    pause
    exit /b 1
)

git push origin gh-pages
if %errorlevel% neq 0 (
    echo    ❌ Ошибка отправки на GitHub Pages
    pause
    exit /b 1
)

git checkout main
echo    ✅ GitHub Pages обновлен
echo.

echo ════════════════════════════════════════════════════════════════
echo    ✅ ДЕПЛОЙ УЛУЧШЕННОГО ДИЗАЙНА ЗАВЕРШЕН!
echo ════════════════════════════════════════════════════════════════
echo.
echo    🎯 Новые секции включают:
echo    🔞 Блок возрастной проверки 16+
echo    🏷️  Главная секция с логотипом NO AL
echo    📅 Секция 'Напитки дня' с датой и навигацией
echo    🍸 Топ-напиток с изображением и бейджем
echo    🚗 Секция для автолюбителей с топ-напитками
echo    🎨 Улучшенная цветовая схема (красный/зеленый)
echo    ✨ Новые анимации и переходы
echo    📱 Полная мобильная адаптивность
echo.
echo    🌐 Ваш улучшенный сайт обновится через 1-2 минуты:
echo    https://ve1LeRs.github.io/bar_firebase/
echo.
echo    💡 Рекомендации:
echo    1. Очистите кэш браузера (Ctrl+F5)
echo    2. Проверьте все новые секции
echo    3. Протестируйте на мобильных устройствах
echo    4. Убедитесь, что все анимации работают плавно
echo.
echo    🚀 Дизайн теперь точно соответствует концепту!
echo.
pause
