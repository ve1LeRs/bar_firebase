# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ CORS –∏ Webhook –ø—Ä–æ–±–ª–µ–º

## ‚úÖ –ü—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

### 1. **CORS –æ—à–∏–±–∫–∏** - –ò–°–ü–†–ê–í–õ–ï–ù–û
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `webhook-server.js`
- –†–∞–∑—Ä–µ—à–µ–Ω—ã –∑–∞–ø—Ä–æ—Å—ã —Å Railway –¥–æ–º–µ–Ω–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `null` origin –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### 2. **Telegram webhook –ø—É—Å—Ç–æ–π** - –ò–°–ü–†–ê–í–õ–ï–ù–û
- –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ webhook
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–ê–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∞" –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### 3. **Placeholder URL** - –ò–°–ü–†–ê–í–õ–ï–ù–û
- –£–±—Ä–∞–Ω placeholder `your-railway-app.railway.app`
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è localhost –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ URL

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
1. **–û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å** ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥"
2. **–ù–∞–∂–º–∏—Ç–µ "–ê–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∞"** (–∑–µ–ª–µ–Ω–∞—è –∫–Ω–æ–ø–∫–∞)
3. **–í–≤–µ–¥–∏—Ç–µ –≤–∞—à Railway URL** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://web-production-72014.up.railway.app`)
4. **–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**:
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç URL webhook —Å–µ—Ä–≤–µ—Ä–∞
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç —Å–∏—Å—Ç–µ–º—É
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç Telegram webhook

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
1. **–ù–∞–∂–º–∏—Ç–µ "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å URL —Å–µ—Ä–≤–µ—Ä–∞"**
2. **–í–≤–µ–¥–∏—Ç–µ –≤–∞—à Railway URL**
3. **–ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º—É"**
4. **–ù–∞–∂–º–∏—Ç–µ "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Webhook"**

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç–∞—Ç—É—Å—ã:
```
üåê Webhook –°–µ—Ä–≤–µ—Ä: ‚úÖ –û–Ω–ª–∞–π–Ω
üî• Firebase: ‚úÖ –û–Ω–ª–∞–π–Ω
üì± Telegram Webhook: ‚úÖ –û–Ω–ª–∞–π–Ω
```

## üÜò –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞—é—Ç—Å—è

### CORS –≤—Å–µ –µ—â–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç?
1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Railway —Å–µ—Ä–≤–µ—Ä**
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** –≤ Railway Dashboard
3. **–£–±–µ–¥–∏—Ç–µ—Å—å**, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `webhook-server.js`

### Webhook –Ω–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è?
1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞** –≤ `script.js`
2. **–£–±–µ–¥–∏—Ç–µ—Å—å**, —á—Ç–æ URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**, —á—Ç–æ Railway —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω

### 404 –æ—à–∏–±–∫–∏?
1. **–£–±–µ–¥–∏—Ç–µ—Å—å**, —á—Ç–æ Railway —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–µ—Ç `webhook-server.js`
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Railway**

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
```javascript
app.use(cors({
  origin: ['https://railway.com', 'https://*.railway.app', 'http://localhost:3000', 'null'],
  credentials: true,
  methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS']
}));
```

### –ê–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∫–ª—é—á–∞–µ—Ç:
1. –ù–∞—Å—Ç—Ä–æ–π–∫—É URL webhook —Å–µ—Ä–≤–µ—Ä–∞
2. –ü—Ä–æ–≤–µ—Ä–∫—É —Å–∏—Å—Ç–µ–º—ã
3. –ù–∞—Å—Ç—Ä–æ–π–∫—É Telegram webhook
4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä–∫—É

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ CORS –æ—à–∏–±–æ–∫ –∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º Telegram webhook!
