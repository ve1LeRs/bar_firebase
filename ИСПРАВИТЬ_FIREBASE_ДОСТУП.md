# ‚ö†Ô∏è –í–ê–ñ–ù–û: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Firebase –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞!

## –ü—Ä–æ–±–ª–µ–º–∞:
```
FirebaseError: Missing or insufficient permissions
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ Firebase –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –∏–∑-–∑–∞ —Å—Ç—Ä–æ–≥–∏—Ö –ø—Ä–∞–≤–∏–ª –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ (–∑–∞–Ω–∏–º–∞–µ—Ç 1 –º–∏–Ω—É—Ç—É):

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Firebase Console
–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–∞–≤–∏–ª —É–∂–µ –æ—Ç–∫—Ä—ã—Ç–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ!

–ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤—Ä—É—á–Ω—É—é:
https://console.firebase.google.com/project/bar-menu-2/firestore/rules

### –®–∞–≥ 2: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞

–í –æ—Ç–∫—Ä—ã–≤—à–µ–π—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—ã —É–≤–∏–¥–∏—Ç–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å —Ç–µ–∫—É—â–∏–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏.

**–ó–∞–º–µ–Ω–∏—Ç–µ –í–°–Å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ** –Ω–∞ —ç—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤
    match /orders/{orderId} {
      // –†–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ–º —á–∏—Ç–∞—Ç—å –∑–∞–∫–∞–∑—ã
      allow read: if true;
      
      // –†–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–∫–∞–∑—ã
      allow create: if true;
      
      // –†–∞–∑—Ä–µ—à–∏—Ç—å –æ–±–Ω–æ–≤–ª—è—Ç—å –∑–∞–∫–∞–∑—ã (–¥–ª—è webhook —Å–µ—Ä–≤–µ—Ä–∞ –∏ –∫–ª–∏–µ–Ω—Ç–æ–≤)
      allow update: if true;
      
      // –†–∞–∑—Ä–µ—à–∏—Ç—å —É–¥–∞–ª—è—Ç—å –∑–∞–∫–∞–∑—ã
      allow delete: if true;
    }
    
    // –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è —Å—Ç–æ–ø-–ª–∏—Å—Ç–∞
    match /stoplist/{itemId} {
      // –†–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ–º —á–∏—Ç–∞—Ç—å —Å—Ç–æ–ø-–ª–∏—Å—Ç
      allow read: if true;
      
      // –†–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ–º –∏–∑–º–µ–Ω—è—Ç—å —Å—Ç–æ–ø-–ª–∏—Å—Ç
      allow write: if true;
    }
    
    // –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ –¥—Ä—É–≥–∏—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π
    match /{document=**} {
      // –†–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ–º —á–∏—Ç–∞—Ç—å
      allow read: if true;
      
      // –†–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ–º –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å
      allow write: if true;
    }
  }
}
```

### –®–∞–≥ 3: –û–ø—É–±–ª–∏–∫—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞

1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Publish"** (–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å) –≤–≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø—É–±–ª–∏–∫–∞—Ü–∏—é

### –®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–∞–π—Ç

–í–µ—Ä–Ω–∏—Ç–µ—Å—å –Ω–∞ –≤–∞—à —Å–∞–π—Ç –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5 –∏–ª–∏ Ctrl+R)

---

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. ‚úÖ **–û—à–∏–±–∫–∞ –≤ –∫–æ–¥–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞** - —É–¥–∞–ª–µ–Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è `testCategorySelector`
2. ‚úÖ **Telegram webhook –æ–±–Ω–æ–≤–ª–µ–Ω** - —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL: `lucid-cat-production.up.railway.app`
3. ‚è≥ **Firebase –ø—Ä–∞–≤–∏–ª–∞** - –æ—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –≤—ã—à–µ

---

## üîí –û –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

**–í–Ω–∏–º–∞–Ω–∏–µ!** –≠—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–µ—à–∞—é—Ç –≤—Å–µ–º —á–∏—Ç–∞—Ç—å –∏ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ. 

–≠—Ç–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:
- ‚úÖ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è  
- ‚úÖ –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–±–∞—Ä)

–ï—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç –¥–ª—è –≤—Å–µ—Ö, –ø–æ–∑–∂–µ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ –ø—Ä–∞–≤–∏–ª–∞.

---

## –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∞–≤–∏–ª:

–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–∞–π—Ç –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å - –æ—à–∏–±–∫–∏ –¥–æ–ª–∂–Ω—ã –∏—Å—á–µ–∑–Ω—É—Ç—å!

–í—ã —Å–º–æ–∂–µ—Ç–µ:
- ‚úÖ –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–æ–∫—Ç–µ–π–ª–∏
- ‚úÖ –°–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–∫–∞–∑—ã
- ‚úÖ –í–∏–¥–µ—Ç—å –æ—á–µ—Ä–µ–¥—å
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–æ–ø-–ª–∏—Å—Ç

---

**–§–∞–π–ª —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ —Ç–∞–∫–∂–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤:** `FIREBASE_RULES.txt`

