<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Asafiev Bar ‚Äî –ö–æ–∫—Ç–µ–π–ª–∏</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="style.css">
  <link rel="manifest" href="manifest.json">
  <!-- Firebase COMPAT -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-storage-compat.js"></script>
  <!-- Font Awesome –¥–ª—è –∏–∫–æ–Ω–æ–∫ -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div class="container">
    <header>
      <div class="header-content">
        <img src="logo.png" alt="Asafiev Bar" class="logo">
        <div class="header-text">
          <h1>Asafiev Bar</h1>
          <p class="subtitle">–ú–µ—Å—Ç–æ, –≥–¥–µ —Ä–æ–∂–¥–∞—é—Ç—Å—è –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è</p>
        </div>
      </div>
      <div class="auth-buttons">
        <button id="loginBtn"><i class="fas fa-sign-in-alt"></i> –í–æ–π—Ç–∏</button>
        <button id="registerBtn"><i class="fas fa-user-plus"></i> –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
        <button id="ordersBtn" style="display:none"><i class="fas fa-history"></i> –ú–æ–∏ –∑–∞–∫–∞–∑—ã</button>
        <button id="adminBtn" style="display:none"><i class="fas fa-cog"></i> –ê–¥–º–∏–Ω–∫–∞</button>
        <button id="logoutBtn" style="display:none"><i class="fas fa-sign-out-alt"></i> –í—ã–π—Ç–∏</button>
        <span id="userName" class="user-name"></span>
      </div>
    </header>
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—Ö–æ–¥–∞ -->
    <div id="authModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h3 id="modalTitle"><i class="fas fa-sign-in-alt"></i> –í—Ö–æ–¥</h3>
        <form id="authForm">
          <div class="input-group">
            <i class="fas fa-phone"></i>
            <input type="tel" id="phone" placeholder="+7 (999) 999-99-99" required>
          </div>
          <div class="input-group">
            <i class="fas fa-lock"></i>
            <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å" required>
          </div>
          <button type="submit"><i class="fas fa-arrow-right"></i> –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
          <p id="toggleForm">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" id="switchToRegister">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>
        </form>
      </div>
    </div>
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
    <div id="registerModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h3><i class="fas fa-user-plus"></i> –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h3>
        <form id="registerForm">
          <div class="input-group">
            <i class="fas fa-user"></i>
            <input type="text" id="displayName" placeholder="–í–∞—à–µ –∏–º—è" required>
          </div>
          <div class="input-group">
            <i class="fas fa-phone"></i>
            <input type="tel" id="regPhone" placeholder="+7 (999) 999-99-99" required>
          </div>
          <div class="input-group">
            <i class="fas fa-lock"></i>
            <input type="password" id="regPassword" placeholder="–ü–∞—Ä–æ–ª—å" required>
          </div>
          <button type="submit"><i class="fas fa-check"></i> –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
        </form>
      </div>
    </div>
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
    <div id="successModal" class="modal success-modal">
      <div class="modal-content success-content">
        <div class="success-icon">üéâ</div>
        <h3>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!</h3>
        <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Asafiev Bar!</p>
        <button id="closeSuccess" class="success-btn">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
      </div>
    </div>
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—à–∏–±–æ–∫ -->
    <div id="errorModal" class="modal error-modal">
      <div class="modal-content error-content">
        <div class="error-icon">‚ùå</div>
        <h3>–û—à–∏–±–∫–∞</h3>
        <p id="errorMessage">–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.</p>
        <button id="closeError" class="error-btn">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </div>
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–∫–∞–∑–æ–≤ -->
    <div id="ordersModal" class="modal">
      <div class="modal-content orders-modal">
        <span class="close">&times;</span>
        <h3><i class="fas fa-history"></i> –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤</h3>
        <div id="ordersList" class="orders-list"></div>
      </div>
    </div>
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="notificationModal" class="modal notification-modal">
      <div class="modal-content notification-content">
        <div class="notification-icon">‚úÖ</div>
        <h3>–ó–∞–∫–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!</h3>
        <p>–í–∞—à –∑–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω. –û–∂–∏–¥–∞–π—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç –±–∞—Ä–º–µ–Ω–∞.</p>
        <button id="closeNotification" class="notification-btn">–•–æ—Ä–æ—à–æ</button>
      </div>
    </div>
    <!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å -->
    <div id="adminPanel" class="modal admin-panel">
      <div class="modal-content admin-content">
        <span class="close">&times;</span>
        <h3><i class="fas fa-cog"></i> –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h3>
        <!-- –í–∫–ª–∞–¥–∫–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ -->
        <div class="admin-tabs">
          <button class="tab-btn active" data-tab="cocktails">–ö–æ–∫—Ç–µ–π–ª–∏</button>
          <button class="tab-btn" data-tab="orders">–ó–∞–∫–∞–∑—ã</button>
          <button class="tab-btn" data-tab="stoplist">–°—Ç–æ–ø-–ª–∏—Å—Ç</button>
        </div>
        <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–æ–∫ -->
        <div class="tab-content active" id="cocktails-tab">
          <h4>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–∫—Ç–µ–π–ª—è–º–∏</h4>
          <button id="addCocktailBtn" class="admin-btn"><i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –∫–æ–∫—Ç–µ–π–ª—å</button>
          <div id="cocktailsList" class="admin-list">
            <!-- –°–ø–∏—Å–æ–∫ –∫–æ–∫—Ç–µ–π–ª–µ–π –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω —Å—é–¥–∞ -->
          </div>
        </div>
        <div class="tab-content" id="orders-tab">
          <h4>–ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–∫–∞–∑—ã</h4>
          <div id="adminOrdersList" class="admin-list">
            <!-- –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω —Å—é–¥–∞ -->
          </div>
        </div>
        <div class="tab-content" id="stoplist-tab">
          <h4>–°—Ç–æ–ø-–ª–∏—Å—Ç</h4>
          <div id="stoplistContent">
            <input type="text" id="stopReason" placeholder="–ü—Ä–∏—á–∏–Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ —Å—Ç–æ–ø-–ª–∏—Å—Ç">
            <select id="stoplistCocktails">
              <!-- –û–ø—Ü–∏–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </select>
            <button id="addToStoplist" class="admin-btn"><i class="fas fa-ban"></i> –î–æ–±–∞–≤–∏—Ç—å –≤ —Å—Ç–æ–ø-–ª–∏—Å—Ç</button>
          </div>
          <div id="currentStoplist" class="admin-list">
            <!-- –¢–µ–∫—É—â–∏–π —Å—Ç–æ–ø-–ª–∏—Å—Ç –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω —Å—é–¥–∞ -->
          </div>
        </div>
      </div>
    </div>
    <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–∫—Ç–µ–π–ª—è -->
    <div id="cocktailFormModal" class="modal">
      <div class="modal-content form-modal">
        <span class="close">&times;</span>
        <h3 id="formTitle"><i class="fas fa-cocktail"></i> –î–æ–±–∞–≤–∏—Ç—å –∫–æ–∫—Ç–µ–π–ª—å</h3>
        <form id="cocktailForm">
          <input type="hidden" id="cocktailId">
          <div class="form-group">
            <label>–ù–∞–∑–≤–∞–Ω–∏–µ:</label>
            <input type="text" id="cocktailName" required>
          </div>
          <div class="form-group">
            <label>–°–æ—Å—Ç–∞–≤:</label>
            <textarea id="cocktailIngredients" required></textarea>
          </div>
          <div class="form-group">
            <label>–û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è:</label>
            <input type="text" id="cocktailMood">
          </div>
          <div class="form-group">
            <label>–ö—Ä–µ–ø–æ—Å—Ç—å (%):</label>
            <input type="number" id="cocktailAlcohol" min="0" max="100">
          </div>
          <div class="form-group">
            <label>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:</label>
            <input type="file" id="cocktailImage" accept="image/*">
            <img id="previewImage" src="" alt="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä" style="display:none; max-width: 200px; margin-top: 10px;">
          </div>
          <button type="submit" class="admin-btn"><i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </form>
      </div>
    </div>
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞ -->
    <div id="statusModal" class="modal">
      <div class="modal-content status-modal">
        <span class="close">&times;</span>
        <h3><i class="fas fa-sync-alt"></i> –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞</h3>
        <div id="statusOrderInfo"></div>
        <div class="status-buttons">
          <button class="status-btn" data-status="confirmed">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
          <button class="status-btn" data-status="preparing">–ì–æ—Ç–æ–≤–∏—Ç—Å—è</button>
          <button class="status-btn" data-status="ready">–ì–æ—Ç–æ–≤</button>
          <button class="status-btn" data-status="completed">–í—ã–ø–æ–ª–Ω–µ–Ω</button>
          <button class="status-btn cancel" data-status="cancelled">–û—Ç–º–µ–Ω–∏—Ç—å</button>
        </div>
      </div>
    </div>
    <main class="cocktails-grid">
      <!-- –ö–æ–∫—Ç–µ–π–ª–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —Å—é–¥–∞ -->
    </main>
    <!-- –ü–ª–∞—à–∫–∞ —Å –∞–≤—Ç–æ—Ä—Å–∫–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏ -->
    <div class="copyright">
      <p>¬© 2025 Asafiev Bar. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
      <p>–° –ª—é–±–æ–≤—å—é –∫ –∫–æ–∫—Ç–µ–π–ª—è–º –∏ —Ö–æ—Ä–æ—à–µ–º—É –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é.</p>
    </div>
  </div>
  <!-- –ö–Ω–æ–ø–∫–∞ —Å–º–µ–Ω—ã —Ç–µ–º—ã -->
  <button id="themeToggle" class="theme-toggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
    <i class="fas fa-moon"></i>
  </button>
  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ -->
  <div id="orderModal" class="modal">
    <div class="modal-content order-modal">
      <span class="close" id="closeOrderModal">&times;</span>
      <h3><i class="fas fa-check-circle"></i> –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∑–∞–∫–∞–∑</h3>
      <div class="order-image-container">
        <img id="orderImagePreview" src="" alt="–ö–æ–∫—Ç–µ–π–ª—å" class="order-image-preview">
      </div>
      <p id="orderSummary"></p>
      <button id="confirmOrder"><i class="fas fa-check"></i> –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑</button>
    </div>
  </div>
  <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ª–æ–∞–¥–µ—Ä -->
  <div id="loader" class="loader-container">
    <div class="loader">
      <div class="loader-circle"></div>
      <div class="loader-circle"></div>
      <div class="loader-circle"></div>
    </div>
    <p class="loader-text">–ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –≤–∞—à –±–∞—Ä...</p>
  </div>
  <!-- –§–æ–Ω–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã -->
  <div id="background" class="background-container">
    <div class="background-overlay"></div>
    <div class="sparkles"></div>
  </div>
  <!-- –ê–Ω–∏–º–∞—Ü–∏—è —à–∞–º–ø–∞–Ω—Å–∫–æ–≥–æ -->
  <div id="champagneAnimation" class="champagne-animation"></div>
  <script src="script.js"></script>
</body>
</html>