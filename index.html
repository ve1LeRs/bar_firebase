<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Asafiev Bar ‚Äî –ö–æ–∫—Ç–µ–π–ª–∏</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="style.css">
  <link rel="manifest" href="manifest.json">

  <!-- Firebase COMPAT -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
  
  <!-- Font Awesome –¥–ª—è –∏–∫–æ–Ω–æ–∫ -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div class="container">
    <header>
      <div class="header-content">
        <img src="logo.png" alt="Asafiev Bar" class="logo">
        <div class="header-text">
          <h1>Asafiev Bar</h1>
          <p class="subtitle">–ò–∑—ã—Å–∫–∞–Ω–Ω—ã–µ –∫–æ–∫—Ç–µ–π–ª–∏,<br>—Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Å –ª—é–±–æ–≤—å—é</p>
        </div>
      </div>
      <div class="auth-buttons">
        <button id="themeToggle" class="theme-toggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
          <i class="fas fa-moon"></i>
        </button>
        <button id="loginBtn"><i class="fas fa-sign-in-alt"></i> –í–æ–π—Ç–∏</button>
        <button id="registerBtn"><i class="fas fa-user-plus"></i> –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
        <button id="logoutBtn" style="display:none"><i class="fas fa-sign-out-alt"></i> –í—ã–π—Ç–∏</button>
        <button id="ordersBtn" style="display:none"><i class="fas fa-history"></i> –ú–æ–∏ –∑–∞–∫–∞–∑—ã</button>
        <span id="userName" class="user-name"></span>
      </div>
    </header>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—Ö–æ–¥–∞ -->
    <div id="authModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h3 id="modalTitle"><i class="fas fa-sign-in-alt"></i> –í—Ö–æ–¥</h3>
        <form id="authForm">
          <div class="input-group">
            <i class="fas fa-envelope"></i>
            <input type="email" id="email" placeholder="Email" required>
          </div>
          <div class="input-group">
            <i class="fas fa-lock"></i>
            <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å" required>
          </div>
          <button type="submit"><i class="fas fa-arrow-right"></i> –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
          <p id="toggleForm">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" id="switchToRegister">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>
        </form>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
    <div id="registerModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h3><i class="fas fa-user-plus"></i> –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h3>
        <form id="registerForm">
          <div class="input-group">
            <i class="fas fa-user"></i>
            <input type="text" id="displayName" placeholder="–í–∞—à–µ –∏–º—è" required>
          </div>
          <div class="input-group">
            <i class="fas fa-envelope"></i>
            <input type="email" id="regEmail" placeholder="Email" required>
          </div>
          <div class="input-group">
            <i class="fas fa-lock"></i>
            <input type="password" id="regPassword" placeholder="–ü–∞—Ä–æ–ª—å" required>
          </div>
          <button type="submit"><i class="fas fa-check"></i> –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
        </form>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–∫–∞–∑–æ–≤ -->
    <div id="ordersModal" class="modal">
      <div class="modal-content orders-modal">
        <span class="close">&times;</span>
        <h3><i class="fas fa-history"></i> –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤</h3>
        <div id="ordersList" class="orders-list"></div>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="notificationModal" class="modal notification-modal">
      <div class="modal-content notification-content">
        <div class="notification-icon">‚úÖ</div>
        <h3>–ó–∞–∫–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!</h3>
        <p>–í–∞—à –∑–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω. –û–∂–∏–¥–∞–π—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç –±–∞—Ä–º–µ–Ω–∞.</p>
        <button id="closeNotification" class="notification-btn">–•–æ—Ä–æ—à–æ</button>
      </div>
    </div>

    <main class="cocktails-grid">
      <!-- 15 –∫–æ–∫—Ç–µ–π–ª–µ–π -->
      <div class="cocktail-card" data-name="–ú–æ—Ö–∏—Ç–æ" data-alcohol="10">
        <div class="image-container">
          <img src="https://i.pinimg.com/736x/8c/f1/01/8cf1015d787dcd32d7e51d75db9debb0.jpg" alt="–ú–æ—Ö–∏—Ç–æ">
          <div class="alcohol-indicator">
            <i class="fas fa-wine-bottle"></i>
            <span class="alcohol-percent">10%</span>
          </div>
        </div>
        <div class="card-content">
          <h2>–ú–æ—Ö–∏—Ç–æ</h2>
          <p class="ingredients">–†–æ–º, –º—è—Ç–∞, –ª–∞–π–º, —Ç—Ä–æ—Å—Ç–Ω–∏–∫–æ–≤—ã–π —Å–∞—Ö–∞—Ä, —Å–æ–¥–æ–≤–∞—è</p>
          <p class="mood">–û—Å–≤–µ–∂–∞—é—â–∏–π, —Å –Ω–æ—Ç–∫–æ–π –º—è—Ç—ã üåø</p>
          <button class="order-btn" data-name="–ú–æ—Ö–∏—Ç–æ"><i class="fas fa-glass-martini-alt"></i> –ó–∞–∫–∞–∑–∞—Ç—å</button>
        </div>
      </div>

      <div class="cocktail-card" data-name="–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞" data-alcohol="30">
        <div class="image-container">
          <img src="https://i.pinimg.com/736x/38/79/33/387933cfef687aa0bf4cb98936c559ae.jpg" alt="–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞">
          <div class="alcohol-indicator">
            <i class="fas fa-wine-bottle"></i>
            <span class="alcohol-percent">30%</span>
          </div>
        </div>
        <div class="card-content">
          <h2>–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞</h2>
          <p class="ingredients">–¢–µ–∫–∏–ª–∞, –ª–∏–∫—ë—Ä –¢—Ä–∏–ø–ª –°–µ–∫, —Å–æ–∫ –ª–∞–π–º–∞, —Å–∞—Ö–∞—Ä</p>
          <p class="mood">–ö–∏—Å–ª–æ-—Å–ª–∞–¥–∫–∏–π, —Å —è—Ä–∫–∏–º —Ü–∏—Ç—Ä—É—Å–æ–º üçã</p>
          <button class="order-btn" data-name="–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞"><i class="fas fa-glass-martini-alt"></i> –ó–∞–∫–∞–∑–∞—Ç—å</button>
        </div>
      </div>

      <div class="cocktail-card" data-name="–ö–æ—Å–º–æ–ø–æ–ª–∏—Ç–µ–Ω" data-alcohol="25">
        <div class="image-container">
          <img src="https://static.foodeon.com/assets/uploaded-media/product-media/magazin-bar-vintazh-tflb-ipiolfqnln-ypysargigy-UAHbDvSZXJ6H2_52L3-lr.jpg" alt="–ö–æ—Å–º–æ–ø–æ–ª–∏—Ç–µ–Ω">
          <div class="alcohol-indicator">
            <i class="fas fa-wine-bottle"></i>
            <span class="alcohol-percent">25%</span>
          </div>
        </div>
        <div class="card-content">
          <h2>–ö–æ—Å–º–æ–ø–æ–ª–∏—Ç–µ–Ω</h2>
          <p class="ingredients">–í–æ–¥–∫–∞, –ª–∏–∫—ë—Ä –¢—Ä–∏–ø–ª –°–µ–∫, —Å–æ–∫ –∫–ª—é–∫–≤—ã, —Å–æ–∫ –ª–∏–º–æ–Ω–∞</p>
          <p class="mood">–≠–ª–µ–≥–∞–Ω—Ç–Ω—ã–π, —è–≥–æ–¥–Ω—ã–π, —Å –ª—ë–≥–∫–æ–π –∫–∏—Å–ª–∏–Ω–∫–æ–π üíñ</p>
          <button class="order-btn" data-name="–ö–æ—Å–º–æ–ø–æ–ª–∏—Ç–µ–Ω"><i class="fas fa-glass-martini-alt"></i> –ó–∞–∫–∞–∑–∞—Ç—å</button>
        </div>
      </div>

      <div class="cocktail-card" data-name="–ü–∞–ª–æ–º–∞" data-alcohol="20">
        <div class="image-container">
          <img src="https://i.pinimg.com/736x/90/6d/d6/906dd60f2e2940978e4da0eea1656aa5.jpg" alt="–ü–∞–ª–æ–º–∞">
          <div class="alcohol-indicator">
            <i class="fas fa-wine-bottle"></i>
            <span class="alcohol-percent">20%</span>
          </div>
        </div>
        <div class="card-content">
          <h2>–ü–∞–ª–æ–º–∞</h2>
          <p class="ingredients">–¢–µ–∫–∏–ª–∞, —Å–æ–∫ –≥—Ä–µ–π–ø—Ñ—Ä—É—Ç–∞, —Å–æ–¥–æ–≤–∞—è, —Å–æ–∫ –ª–∏–º–æ–Ω–∞</p>
          <p class="mood">–¶–∏—Ç—Ä—É—Å–æ–≤—ã–π –≤–∑—Ä—ã–≤, –∏–¥–µ–∞–ª–µ–Ω –¥–ª—è –ª–µ—Ç–∞ üçä</p>
          <button class="order-btn" data-name="–ü–∞–ª–æ–º–∞"><i class="fas fa-glass-martini-alt"></i> –ó–∞–∫–∞–∑–∞—Ç—å</button>
        </div>
      </div>

      <div class="cocktail-card" data-name="–ì–æ–ª—É–±–∞—è –ª–∞–≥—É–Ω–∞" data-alcohol="15">
        <div class="image-container">
          <img src="https://i.pinimg.com/736x/1e/51/95/1e5195bff8a970552512a138db8eef5a.jpg" alt="–ì–æ–ª—É–±–∞—è –ª–∞–≥—É–Ω–∞">
          <div class="alcohol-indicator">
            <i class="fas fa-wine-bottle"></i>
            <span class="alcohol-percent">15%</span>
          </div>
        </div>
        <div class="card-content">
          <h2>–ì–æ–ª—É–±–∞—è –ª–∞–≥—É–Ω–∞</h2>
          <p class="ingredients">–í–æ–¥–∫–∞, —Å–∏—Ä–æ–ø –ë–ª—é –ö—É—Ä–∞—Å–∞–æ, —Å–æ–∫ –ª–∏–º–æ–Ω–∞, —Å–æ–¥–æ–≤–∞—è</p>
          <p class="mood">–¢—Ä–æ–ø–∏—á–µ—Å–∫–∏–π, —Å–ª–∞–¥–∫–∏–π, –∫–∞–∫ –º–æ—Ä—Å–∫–æ–π –±—Ä–∏–∑ üåä</p>
          <button class="order-btn" data-name="–ì–æ–ª—É–±–∞—è –ª–∞–≥—É–Ω–∞"><i class="fas fa-glass-martini-alt"></i> –ó–∞–∫–∞–∑–∞—Ç—å</button>
        </div>
      </div>

      <div class="cocktail-card" data-name="Long Island Iced Tea" data-alcohol="22">
        <div class="image-container">
          <img src="https://i.pinimg.com/736x/27/32/b2/2732b2f2f046a11b560401e6bee4b1c2.jpg" alt="Long Island Iced Tea">
          <div class="alcohol-indicator">
            <i class="fas fa-wine-bottle"></i>
            <span class="alcohol-percent">22%</span>
          </div>
        </div>
        <div class="card-content">
          <h2>Long Island Iced Tea</h2>
          <p class="ingredients">–í–æ–¥–∫–∞, –¥–∂–∏–Ω, —Ç–µ–∫–∏–ª–∞, —Ä–æ–º, –ª–∏–∫—ë—Ä –¢—Ä–∏–ø–ª –°–µ–∫, —Å–æ–∫ –ª–∏–º–æ–Ω–∞, —Å–∞—Ö–∞—Ä, Coca-Cola</p>
          <p class="mood">–û–±–º–∞–Ω—á–∏–≤–æ —Å–ª–∞–¥–∫–∏–π ‚Äî –∫—Ä–µ–ø–∫–∏–π –∫–∞–∫ —á–∞–π –±—É–Ω—Ç–∞—Ä—è üçπ</p>
          <button class="order-btn" data-name="Long Island Iced Tea"><i class="fas fa-glass-martini-alt"></i> –ó–∞–∫–∞–∑–∞—Ç—å</button>
        </div>
      </div>

      <div class="cocktail-card" data-name="–ö–ª–æ–≤–µ—Ä –ö–ª–∞–±" data-alcohol="18">
        <div class="image-container">
          <img src="https://i.pinimg.com/originals/9b/42/b8/9b42b82afc562c349a44bbb2c9d62864.jpg" alt="–ö–ª–æ–≤–µ—Ä –ö–ª–∞–±">
          <div class="alcohol-indicator">
            <i class="fas fa-wine-bottle"></i>
            <span class="alcohol-percent">18%</span>
          </div>
        </div>
        <div class="card-content">
          <h2>–ö–ª–æ–≤–µ—Ä –ö–ª–∞–±</h2>
          <p class="ingredients">–î–∂–∏–Ω, —Å–æ–∫ –ª–∏–º–æ–Ω–∞, –±–µ–ª–æ–∫, –º–∞–ª–∏–Ω–∞</p>
          <p class="mood">–ù–µ–∂–Ω—ã–π, —Ü–≤–µ—Ç–æ—á–Ω—ã–π, —Å —è–≥–æ–¥–Ω–æ–π –Ω–æ—Ç–∫–æ–π üçì</p>
          <button class="order-btn" data-name="–ö–ª–æ–≤–µ—Ä –ö–ª–∞–±"><i class="fas fa-glass-martini-alt"></i> –ó–∞–∫–∞–∑–∞—Ç—å</button>
        </div>
      </div>

      <div class="cocktail-card" data-name="–ü–∏–Ω–∞ –ö–æ–ª–∞–¥–∞" data-alcohol="12">
        <div class="image-container">
          <img src="https://i.pinimg.com/originals/33/e6/d4/33e6d4b2ce047fe01573cc2e229da563.webp" alt="–ü–∏–Ω–∞ –ö–æ–ª–∞–¥–∞">
          <div class="alcohol-indicator">
            <i class="fas fa-wine-bottle"></i>
            <span class="alcohol-percent">12%</span>
          </div>
        </div>
        <div class="card-content">
          <h2>–ü–∏–Ω–∞ –ö–æ–ª–∞–¥–∞</h2>
          <p class="ingredients">–†–æ–º, —Å–ª–∏–≤–∫–∏, –∞–Ω–∞–Ω–∞—Å–æ–≤—ã–π —Å–æ–∫</p>
          <p class="mood">–°–ª–∞–¥–∫–∏–π —Ç—Ä–æ–ø–∏—á–µ—Å–∫–∏–π –∫–æ–∫—Ç–µ–π–ª—å üççü••</p>
          <button class="order-btn" data-name="–ü–∏–Ω–∞ –ö–æ–ª–∞–¥–∞"><i class="fas fa-glass-martini-alt"></i> –ó–∞–∫–∞–∑–∞—Ç—å</button>
        </div>
      </div>

      <div class="cocktail-card" data-name="–î–∂–∏–Ω –¢–æ–Ω–∏–∫" data-alcohol="15">
        <div class="image-container">
          <img src="https://howtomakeacocktail.com/wp-content/uploads/2020/07/Vodka-Tonic.jpg" alt="–î–∂–∏–Ω –¢–æ–Ω–∏–∫">
          <div class="alcohol-indicator">
            <i class="fas fa-wine-bottle"></i>
            <span class="alcohol-percent">15%</span>
          </div>
        </div>
        <div class="card-content">
          <h2>–î–∂–∏–Ω –¢–æ–Ω–∏–∫</h2>
          <p class="ingredients">–î–∂–∏–Ω, —Ç–æ–Ω–∏–∫, –ª–∞–π–º</p>
          <p class="mood">–ß–∏—Å—Ç—ã–π, –±–æ–¥—Ä—è—â–∏–π, —Å —Ü–∏—Ç—Ä—É—Å–æ–º üçã</p>
          <button class="order-btn" data-name="–î–∂–∏–Ω –¢–æ–Ω–∏–∫"><i class="fas fa-glass-martini-alt"></i> –ó–∞–∫–∞–∑–∞—Ç—å</button>
        </div>
      </div>

      <div class="cocktail-card" data-name="–ê–ø–µ—Ä–æ–ª—å –®–ø—Ä–∏—Ü" data-alcohol="9">
        <div class="image-container">
          <img src="https://cocktail.apetime.com/wp-content/uploads/2019/07/spritz-aperol-scaled.jpg" alt="–ê–ø–µ—Ä–æ–ª—å –®–ø—Ä–∏—Ü">
          <div class="alcohol-indicator">
            <i class="fas fa-wine-bottle"></i>
            <span class="alcohol-percent">9%</span>
          </div>
        </div>
        <div class="card-content">
          <h2>–ê–ø–µ—Ä–æ–ª—å –®–ø—Ä–∏—Ü</h2>
          <p class="ingredients">–ê–ø–µ—Ä–æ–ª—å, –ø—Ä–æ—Å–µ–∫–∫–æ, —Å–æ–¥–æ–≤–∞—è, –∞–ø–µ–ª—å—Å–∏–Ω</p>
          <p class="mood">–õ—ë–≥–∫–∏–π, –≥–æ—Ä—å–∫–æ–≤–∞—Ç–æ-—Å–ª–∞–¥–∫–∏–π, –∫–∞–∫ –∏—Ç–∞–ª—å—è–Ω—Å–∫–∏–π –∑–∞–∫–∞—Ç üçä</p>
          <button class="order-btn" data-name="–ê–ø–µ—Ä–æ–ª—å –®–ø—Ä–∏—Ü"><i class="fas fa-glass-martini-alt"></i> –ó–∞–∫–∞–∑–∞—Ç—å</button>
        </div>
      </div>

      <div class="cocktail-card" data-name="Hong Kong" data-alcohol="18">
        <div class="image-container">
          <img src="https://i.pinimg.com/736x/5d/5d/5d/5d5d5d5d5d5d5d5d5d5d5d5d5d5d5d5d.jpg" alt="Hong Kong">
          <div class="alcohol-indicator">
            <i class="fas fa-wine-bottle"></i>
            <span class="alcohol-percent">18%</span>
          </div>
        </div>
        <div class="card-content">
          <h2>Hong Kong</h2>
          <p class="ingredients">–í–æ–¥–∫–∞, —Å–∏—Ä–æ–ø –ë–ª—É –ö—É—Ä–∞—Å–∞–æ, –º–∞–ª–∏–Ω–∞, —Å–æ–∫ –ª–∏–º–æ–Ω–∞, —Å–æ–¥–æ–≤–∞—è</p>
          <p class="mood">–Ø—Ä–∫–∏–π, —Ñ—Ä—É–∫—Ç–æ–≤—ã–π, —Å –∫–∏—Å–ª–∏–Ω–∫–æ–π –∏ –¥—Ä–∞–π–≤–æ–º üçí</p>
          <button class="order-btn" data-name="Hong Kong"><i class="fas fa-glass-martini-alt"></i> –ó–∞–∫–∞–∑–∞—Ç—å</button>
        </div>
      </div>

      <div class="cocktail-card" data-name="Angela Forever" data-alcohol="20">
        <div class="image-container">
          <img src="https://i.pinimg.com/736x/5d/5d/5d/5d5d5d5d5d5d5d5d5d5d5d5d5d5d5d5d.jpg" alt="Angela Forever">
          <div class="alcohol-indicator">
            <i class="fas fa-wine-bottle"></i>
            <span class="alcohol-percent">20%</span>
          </div>
        </div>
        <div class="card-content">
          <h2>Angela Forever</h2>
          <p class="ingredients">–î–∂–∏–Ω, –≤–æ–¥–∫–∞, –ª–∏–∫—ë—Ä –¢—Ä–∏–ø–ª –°–µ–∫, —Å–æ–∫ –ª–∏–º–æ–Ω–∞, —á—ë—Ä–Ω–∞—è —Å–º–æ—Ä–æ–¥–∏–Ω–∞, —Å–æ–¥–æ–≤–∞—è</p>
          <p class="mood">–Ø–≥–æ–¥–Ω–æ-—Ü–∏—Ç—Ä—É—Å–æ–≤—ã–π, —Å –≥–ª—É–±–æ–∫–∏–º –≤–∫—É—Å–æ–º –∏ —à–∏–ø–µ–Ω–∏–µ–º üí´</p>
          <button class="order-btn" data-name="Angela Forever"><i class="fas fa-glass-martini-alt"></i> –ó–∞–∫–∞–∑–∞—Ç—å</button>
        </div>
      </div>

      <div class="cocktail-card" data-name="–¢–µ–∫–∏–ª–∞ –°–∞–Ω—Ä–∞–π–∑" data-alcohol="15">
        <div class="image-container">
          <img src="https://cortezworld.com/wp-content/uploads/2024/07/tequila-sunrise.jpg" alt="–¢–µ–∫–∏–ª–∞ –°–∞–Ω—Ä–∞–π–∑">
          <div class="alcohol-indicator">
            <i class="fas fa-wine-bottle"></i>
            <span class="alcohol-percent">15%</span>
          </div>
        </div>
        <div class="card-content">
          <h2>–¢–µ–∫–∏–ª–∞ –°–∞–Ω—Ä–∞–π–∑</h2>
          <p class="ingredients">–¢–µ–∫–∏–ª–∞, –∞–ø–µ–ª—å—Å–∏–Ω–æ–≤—ã–π —Å–æ–∫, –≥—Ä–µ–Ω–∞–¥–∏–Ω</p>
          <p class="mood">–°–æ–ª–Ω–µ—á–Ω—ã–π, —Å–ª–∞–¥–∫–∏–π, –∫–∞–∫ —Ä–∞—Å—Å–≤–µ—Ç –≤ –ú–µ–∫—Å–∏–∫–µ üåÖ</p>
          <button class="order-btn" data-name="–¢–µ–∫–∏–ª–∞ –°–∞–Ω—Ä–∞–π–∑"><i class="fas fa-glass-martini-alt"></i> –ó–∞–∫–∞–∑–∞—Ç—å</button>
        </div>
      </div>

      <div class="cocktail-card" data-name="Saint P" data-alcohol="22">
        <div class="image-container">
          <img src="https://i.pinimg.com/736x/5d/5d/5d/5d5d5d5d5d5d5d5d5d5d5d5d5d5d5d5d.jpg" alt="Saint P">
          <div class="alcohol-indicator">
            <i class="fas fa-wine-bottle"></i>
            <span class="alcohol-percent">22%</span>
          </div>
        </div>
        <div class="card-content">
          <h2>Saint P</h2>
          <p class="ingredients">–í–æ–¥–∫–∞, –¥–∂–∏–Ω, –ª–∏–∫—ë—Ä –¢—Ä–∏–ø–ª –°–µ–∫, —Å–∏—Ä–æ–ø –ë–ª—é –ö—É—Ä–∞—Å–∞–æ, —á—ë—Ä–Ω–∞—è —Å–º–æ—Ä–æ–¥–∏–Ω–∞, —Å–æ–¥–æ–≤–∞—è</p>
          <p class="mood">–§—Ä—É–∫—Ç–æ–≤—ã–π –º–∏–∫—Å —Å —è–≥–æ–¥–Ω–æ–π –≥–ª—É–±–∏–Ω–æ–πüçá</p>
          <button class="order-btn" data-name="Saint P"><i class="fas fa-glass-martini-alt"></i> –ó–∞–∫–∞–∑–∞—Ç—å</button>
        </div>
      </div>

      <div class="cocktail-card" data-name="LP" data-alcohol="16">
        <div class="image-container">
          <img src="https://i.pinimg.com/736x/5d/5d/5d/5d5d5d5d5d5d5d5d5d5d5d5d5d5d5d5d.jpg" alt="LP">
          <div class="alcohol-indicator">
            <i class="fas fa-wine-bottle"></i>
            <span class="alcohol-percent">16%</span>
          </div>
        </div>
        <div class="card-content">
          <h2>LP</h2>
          <p class="ingredients">–í–æ–¥–∫–∞, –ê–ø–µ—Ä–æ–ª—å, —Å–∏—Ä–æ–ø –≤–∞–Ω–∏–ª–∏, —Å–æ–∫ –ª–∏–º–æ–Ω–∞, —Ç–æ–Ω–∏–∫, —Å–æ–¥–æ–≤–∞—è</p>
          <p class="mood">–°–ª–æ–∂–Ω—ã–π, –±–∞—Ä—Ö–∞—Ç–∏—Å—Ç—ã–π, —Å –≤–∞–Ω–∏–ª—å—é –∏ –≥–æ—Ä—á–∏–Ω–∫–æ–π üç¶</p>
          <button class="order-btn" data-name="LP"><i class="fas fa-glass-martini-alt"></i> –ó–∞–∫–∞–∑–∞—Ç—å</button>
        </div>
      </div>
    </main>
    
    <!-- –ü–ª–∞—à–∫–∞ —Å –∞–≤—Ç–æ—Ä—Å–∫–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏ -->
    <div class="copyright">
      <p>¬© 2025 Asafiev Bar. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
      <p>–° –ª—é–±–æ–≤—å—é –∫ –∫–æ–∫—Ç–µ–π–ª—è–º –∏ —Ö–æ—Ä–æ—à–µ–º—É –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é.</p>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ -->
  <div id="orderModal" class="modal">
    <div class="modal-content order-modal">
      <span class="close" id="closeOrderModal">&times;</span>
      <h3><i class="fas fa-check-circle"></i> –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∑–∞–∫–∞–∑</h3>
      <div class="order-image-container">
        <img id="orderImagePreview" src="" alt="–ö–æ–∫—Ç–µ–π–ª—å" class="order-image-preview">
      </div>
      <p id="orderSummary"></p>
      <button id="confirmOrder"><i class="fas fa-check"></i> –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑</button>
    </div>
  </div>
  
  <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ª–æ–∞–¥–µ—Ä -->
  <div id="loader" class="loader-container">
    <div class="loader">
      <div class="loader-circle"></div>
      <div class="loader-circle"></div>
      <div class="loader-circle"></div>
    </div>
    <p class="loader-text">–ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –≤–∞—à –±–∞—Ä...</p>
  </div>
  
  <!-- –§–æ–Ω–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã -->
  <div id="background" class="background-container">
    <div class="background-overlay"></div>
    <div class="sparkles"></div>
  </div>
  
  <!-- –ê–Ω–∏–º–∞—Ü–∏—è —à–∞–º–ø–∞–Ω—Å–∫–æ–≥–æ -->
  <div id="champagneAnimation" class="champagne-animation"></div>

  <script>
    // üî• –¢–í–û–ò –ö–õ–Æ–ß–ò FIREBASE
    const firebaseConfig = {
      apiKey: "AIzaSyB4bD8UAu0Aj5IRK5H-uZg6kxNAIbkZc9k",
      authDomain: "bar-menu-6145c.firebaseapp.com",
      projectId: "bar-menu-6145c",
      storageBucket: "bar-menu-6145c.firebasestorage.app",
      messagingSenderId: "493608422842",
      appId: "1:493608422842:web:3b4b6bd8a4cb681c436183"
    };
    
    // ü§ñ TELEGRAM
    const TELEGRAM_BOT_TOKEN = "8326139522:AAG2fwHYd1vRPx0cUXt4ATaFYTNxmzInWJo";
    const TELEGRAM_CHAT_ID = "1743362083";

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    // DOM
    const themeToggle = document.getElementById('themeToggle');
    const loginBtn = document.getElementById('loginBtn');
    const registerBtn = document.getElementById('registerBtn');
    const logoutBtn = document.getElementById('logoutBtn');
    const ordersBtn = document.getElementById('ordersBtn');
    const userName = document.getElementById('userName');
    const authModal = document.getElementById('authModal');
    const registerModal = document.getElementById('registerModal');
    const ordersModal = document.getElementById('ordersModal');
    const notificationModal = document.getElementById('notificationModal');
    const modalTitle = document.getElementById('modalTitle');
    const authForm = document.getElementById('authForm');
    const registerForm = document.getElementById('registerForm');
    const toggleForm = document.getElementById('toggleForm');
    const switchToRegister = document.getElementById('switchToRegister');
    const closeBtns = document.querySelectorAll('.close');
    const orderButtons = document.querySelectorAll('.order-btn');
    const orderModal = document.getElementById('orderModal');
    const orderSummary = document.getElementById('orderSummary');
    const confirmOrderBtn = document.getElementById('confirmOrder');
    const ordersList = document.getElementById('ordersList');
    const closeNotification = document.getElementById('closeNotification');
    const champagneAnimation = document.getElementById('champagneAnimation');
    const cocktailCards = document.querySelectorAll('.cocktail-card');

    let currentOrder = null;
    let startX = 0;
    let startY = 0;
    let currentCard = null;

    // –°–æ–∑–¥–∞–µ–º –º–µ—Ä—Ü–∞—é—â–∏–µ –æ–≥–æ–Ω—å–∫–∏
    function createSparkles() {
      const sparklesContainer = document.querySelector('.sparkles');
      if (sparklesContainer) {
        sparklesContainer.innerHTML = '';
        for (let i = 1; i <= 30; i++) {
          const sparkle = document.createElement('div');
          sparkle.className = 'sparkle';
          sparkle.style.left = Math.random() * 100 + '%';
          sparkle.style.top = Math.random() * 100 + '%';
          sparkle.style.animationDelay = Math.random() * 4 + 's';
          sparkle.style.width = (Math.random() * 4 + 2) + 'px';
          sparkle.style.height = sparkle.style.width;
          sparkle.style.opacity = Math.random() * 0.8 + 0.2;
          sparklesContainer.appendChild(sparkle);
        }
      }
    }

    // –í—ã–∑—ã–≤–∞–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ –æ–≥–æ–Ω—å–∫–æ–≤
    createSparkles();

    // –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã
    function initThemeToggle() {
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é —Ç–µ–º—É
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme === 'dark') {
        document.body.classList.add('dark-theme');
        themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
      } else {
        themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
      }

      themeToggle.addEventListener('click', () => {
        document.body.classList.toggle('dark-theme');
        if (document.body.classList.contains('dark-theme')) {
          localStorage.setItem('theme', 'dark');
          themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
        } else {
          localStorage.setItem('theme', 'light');
          themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
        }
      });
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–≤–∞–π–ø–∞
    function initSwipe() {
      cocktailCards.forEach(card => {
        // Touch —Å–æ–±—ã—Ç–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
        card.addEventListener('touchstart', handleTouchStart, false);
        card.addEventListener('touchmove', handleTouchMove, false);
        card.addEventListener('touchend', handleTouchEnd, false);
        
        // Mouse —Å–æ–±—ã—Ç–∏—è –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞
        card.addEventListener('mousedown', handleMouseDown, false);
        card.addEventListener('mousemove', handleMouseMove, false);
        card.addEventListener('mouseup', handleMouseUp, false);
        card.addEventListener('mouseleave', handleMouseLeave, false);
      });
    }

    function handleTouchStart(e) {
      const touch = e.touches[0];
      startX = touch.clientX;
      startY = touch.clientY;
      currentCard = e.currentTarget;
      currentCard.classList.add('swipe-active');
    }

    function handleTouchMove(e) {
      if (!startX || !currentCard) return;
      
      const touch = e.touches[0];
      const diffX = touch.clientX - startX;
      const diffY = touch.clientY - startY;
      
      // –¢–æ–ª—å–∫–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–≤–∞–π–ø
      if (Math.abs(diffX) > Math.abs(diffY)) {
        e.preventDefault();
        currentCard.style.transform = `translateX(${diffX}px)`;
        currentCard.style.opacity = 1 - Math.abs(diffX) / 300;
      }
    }

    function handleTouchEnd(e) {
      if (!startX || !currentCard) return;
      
      const touch = e.changedTouches[0];
      const diffX = touch.clientX - startX;
      
      if (Math.abs(diffX) > 100) { // –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–∏—Å—Ç–∞–Ω—Ü–∏—è –¥–ª—è —Å–≤–∞–π–ø–∞
        if (diffX > 0) {
          // –°–≤–∞–π–ø –≤–ø—Ä–∞–≤–æ - –∑–∞–∫–∞–∑–∞—Ç—å
          const name = currentCard.getAttribute('data-name');
          triggerOrder(name);
        }
      }
      
      // –°–±—Ä–æ—Å —Å—Ç–∏–ª–µ–π
      currentCard.style.transform = '';
      currentCard.style.opacity = '';
      currentCard.classList.remove('swipe-active');
      currentCard = null;
      startX = 0;
      startY = 0;
    }

    function handleMouseDown(e) {
      startX = e.clientX;
      startY = e.clientY;
      currentCard = e.currentTarget;
      currentCard.classList.add('swipe-active');
    }

    function handleMouseMove(e) {
      if (!startX || !currentCard) return;
      
      const diffX = e.clientX - startX;
      const diffY = e.clientY - startY;
      
      // –¢–æ–ª—å–∫–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–≤–∞–π–ø
      if (Math.abs(diffX) > Math.abs(diffY)) {
        currentCard.style.transform = `translateX(${diffX}px)`;
        currentCard.style.opacity = 1 - Math.abs(diffX) / 300;
      }
    }

    function handleMouseUp(e) {
      if (!startX || !currentCard) return;
      
      const diffX = e.clientX - startX;
      
      if (Math.abs(diffX) > 100) { // –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–∏—Å—Ç–∞–Ω—Ü–∏—è –¥–ª—è —Å–≤–∞–π–ø–∞
        if (diffX > 0) {
          // –°–≤–∞–π–ø –≤–ø—Ä–∞–≤–æ - –∑–∞–∫–∞–∑–∞—Ç—å
          const name = currentCard.getAttribute('data-name');
          triggerOrder(name);
        }
      }
      
      // –°–±—Ä–æ—Å —Å—Ç–∏–ª–µ–π
      currentCard.style.transform = '';
      currentCard.style.opacity = '';
      currentCard.classList.remove('swipe-active');
      currentCard = null;
      startX = 0;
      startY = 0;
    }

    function handleMouseLeave(e) {
      if (currentCard) {
        // –°–±—Ä–æ—Å —Å—Ç–∏–ª–µ–π
        currentCard.style.transform = '';
        currentCard.style.opacity = '';
        currentCard.classList.remove('swipe-active');
        currentCard = null;
        startX = 0;
        startY = 0;
      }
    }

    // –¢—Ä–∏–≥–≥–µ—Ä –∑–∞–∫–∞–∑–∞
    function triggerOrder(name) {
      const user = auth.currentUser;
      if (!user) {
        alert('üîí –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –¥–ª—è –∑–∞–∫–∞–∑–∞.');
        return;
      }
      
      const card = document.querySelector(`.cocktail-card[data-name="${name}"]`);
      if (!card) return;
      
      const imgSrc = card.querySelector('img').src;
      currentOrder = { 
        name, 
        user: user.displayName || "–ì–æ—Å—Ç—å", 
        userId: user.uid,
        timestamp: new Date().toLocaleString('ru-RU'),
        image: imgSrc,
        status: 'pending'
      };
      
      orderSummary.innerHTML = `
        <strong>üç∏ –ö–æ–∫—Ç–µ–π–ª—å:</strong> ${name}<br>
        <strong>üì¨ –í–∞—à–µ –∏–º—è:</strong> ${currentOrder.user}
      `;
      
      const orderImagePreview = document.getElementById('orderImagePreview');
      orderImagePreview.src = imgSrc;
      orderImagePreview.style.display = 'block';
      orderModal.style.display = 'block';
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    auth.onAuthStateChanged(async user => {
      if (user) {
        loginBtn.style.display = 'none';
        registerBtn.style.display = 'none';
        logoutBtn.style.display = 'inline-block';
        ordersBtn.style.display = 'inline-block';
        // üëá –ï—Å–ª–∏ displayName –ø—É—Å—Ç ‚Äî –ø—Ä–æ–±—É–µ–º –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
        if (!user.displayName) {
          await user.reload();
        }
        userName.textContent = user.displayName || "–ì–æ—Å—Ç—å";
        userName.style.display = 'block';
      } else {
        loginBtn.style.display = 'inline-block';
        registerBtn.style.display = 'inline-block';
        logoutBtn.style.display = 'none';
        ordersBtn.style.display = 'none';
        userName.textContent = '';
        userName.style.display = 'none';
      }
    });

    // –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–∫–∞–∑–æ–≤ (–±–µ–∑ –∏–Ω–¥–µ–∫—Å–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ)
    async function loadOrderHistory(userId) {
      try {
        const ordersSnapshot = await db.collection('orders')
          .orderBy('timestamp', 'desc')
          .get();
        
        ordersList.innerHTML = '';
        
        // –§–∏–ª—å—Ç—Ä—É–µ–º –∑–∞–∫–∞–∑—ã –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
        const userOrders = [];
        ordersSnapshot.forEach(doc => {
          const order = doc.data();
          if (order.userId === userId) {
            userOrders.push({ id: doc.id, ...order });
          }
        });
        
        if (userOrders.length === 0) {
          ordersList.innerHTML = '<p class="no-orders">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤</p>';
          return;
        }
        
        // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (–Ω–æ–≤—ã–µ –ø–µ—Ä–≤—ã–º–∏)
        userOrders.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
        
        userOrders.forEach(order => {
          const orderElement = document.createElement('div');
          orderElement.className = 'order-item';
          orderElement.innerHTML = `
            <div class="order-header">
              <span class="order-name">${order.name}</span>
              <span class="order-status ${order.status || 'pending'}">${getStatusText(order.status)}</span>
            </div>
            <div class="order-time">${order.timestamp}</div>
          `;
          ordersList.appendChild(orderElement);
        });
      } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–∫–∞–∑–æ–≤:', error);
        ordersList.innerHTML = '<p class="error">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–∫–∞–∑–æ–≤</p>';
      }
    }

    // –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å—Ç–∞—Ç—É—Å–∞
    function getStatusText(status) {
      switch(status) {
        case 'confirmed': return '–ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω';
        case 'completed': return '–í—ã–ø–æ–ª–Ω–µ–Ω';
        case 'cancelled': return '–û—Ç–º–µ–Ω—ë–Ω';
        default: return '–í –æ–±—Ä–∞–±–æ—Ç–∫–µ';
      }
    }

    // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏ –≤—Ö–æ–¥–∞
    loginBtn?.addEventListener('click', () => {
      authModal.style.display = 'block';
    });

    // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
    registerBtn?.addEventListener('click', () => {
      registerModal.style.display = 'block';
    });

    // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–∫–∞–∑–æ–≤
    ordersBtn?.addEventListener('click', async () => {
      if (auth.currentUser) {
        await loadOrderHistory(auth.currentUser.uid);
        ordersModal.style.display = 'block';
      }
    });

    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
    toggleForm?.addEventListener('click', (e) => {
      if (e.target.id === 'switchToRegister') {
        authModal.style.display = 'none';
        registerModal.style.display = 'block';
        e.preventDefault();
      }
    });

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–æ–∫
    closeBtns.forEach(btn => {
      btn?.addEventListener('click', () => {
        authModal.style.display = 'none';
        registerModal.style.display = 'none';
        orderModal.style.display = 'none';
        ordersModal.style.display = 'none';
        notificationModal.style.display = 'none';
      });
    });

    // –ó–∞–∫—Ä—ã—Ç–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    closeNotification?.addEventListener('click', () => {
      notificationModal.style.display = 'none';
      champagneAnimation.innerHTML = '';
    });

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥–∞
    authForm?.addEventListener('submit', async (e) => {
      e.preventDefault();
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;

      const loader = document.getElementById('loader');
      loader.classList.add('active');

      try {
        const userCredential = await auth.signInWithEmailAndPassword(email, password);
        await userCredential.user.reload();
        const updatedUser = auth.currentUser;
        
        // –ò–º–∏—Ç–∏—Ä—É–µ–º –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏ (300ms)
        await new Promise(resolve => setTimeout(resolve, 300));
        
        userName.textContent = updatedUser.displayName || "–ì–æ—Å—Ç—å";
        authModal.style.display = 'none';
        
        // –î–æ–±–∞–≤–ª—è–µ–º –ø–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
        document.querySelectorAll('.cocktail-card').forEach(card => {
          card.classList.add('fade-in-content');
        });
        
      } catch (error) {
        alert('‚ùå –û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞: ' + error.message);
      } finally {
        loader.classList.remove('active');
      }
    });

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
    registerForm?.addEventListener('submit', async (e) => {
      e.preventDefault();
      const displayName = document.getElementById('displayName').value;
      const email = document.getElementById('regEmail').value;
      const password = document.getElementById('regPassword').value;

      const loader = document.getElementById('loader');
      loader.classList.add('active');

      try {
        const userCredential = await auth.createUserWithEmailAndPassword(email, password);
        await userCredential.user.updateProfile({ displayName });
        
        await new Promise(resolve => setTimeout(resolve, 300));
        
        alert('‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!');
        registerModal.style.display = 'none';
        
        document.querySelectorAll('.cocktail-card').forEach(card => {
          card.classList.add('fade-in-content');
        });
        
      } catch (error) {
        alert('‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: ' + error.message);
      } finally {
        loader.classList.remove('active');
      }
    });

    // –í—ã—Ö–æ–¥
    logoutBtn?.addEventListener('click', async () => {
      await auth.signOut();
    });

    // –ó–∞–∫–∞–∑ (–∫–Ω–æ–ø–∫–∞)
    orderButtons.forEach(btn => {
      btn?.addEventListener('click', () => {
        const user = auth.currentUser;
        if (!user) {
          alert('üîí –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –¥–ª—è –∑–∞–∫–∞–∑–∞.');
          return;
        }
        const name = btn.getAttribute('data-name');
        // üëá –ü–æ–ª—É—á–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–∫—Ç–µ–π–ª—è –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏
        const imgSrc = btn.closest('.cocktail-card').querySelector('img').src;
        currentOrder = { 
          name, 
          user: user.displayName || "–ì–æ—Å—Ç—å", 
          userId: user.uid,
          timestamp: new Date().toLocaleString('ru-RU'),
          image: imgSrc,
          status: 'pending' // –°—Ç–∞—Ç—É—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        };
        orderSummary.innerHTML = `
          <strong>üç∏ –ö–æ–∫—Ç–µ–π–ª—å:</strong> ${name}<br>
          <strong>üì¨ –í–∞—à–µ –∏–º—è:</strong> ${currentOrder.user}
        `;
        // üëá –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        const orderImagePreview = document.getElementById('orderImagePreview');
        orderImagePreview.src = imgSrc;
        orderImagePreview.style.display = 'block';
        orderModal.style.display = 'block';
      });
    });

    // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
    confirmOrderBtn?.addEventListener('click', async () => {
      if (!currentOrder) return;

      try {
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–∞–∫–∞–∑ –≤ Firestore
        const docRef = await db.collection('orders').add(currentOrder);

        const message = `
üÜï *–ù–æ–≤—ã–π –∑–∞–∫–∞–∑ –≤ Asafiev Bar!*
üç∏ *–ö–æ–∫—Ç–µ–π–ª—å:* ${currentOrder.name}
üë§ *–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞:* ${currentOrder.user}
üïí *–í—Ä–µ–º—è:* ${currentOrder.timestamp}
        `.trim();

        const telegramUrl = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
        await fetch(telegramUrl, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            chat_id: TELEGRAM_CHAT_ID,
            text: message,
            parse_mode: 'Markdown'
          })
        });

        // –í–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –∑–∞–∫–∞–∑–µ (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)
        if (navigator.vibrate) {
          navigator.vibrate([200, 100, 200]);
        } else if ('ontouchstart' in window || navigator.maxTouchPoints > 0) {
          // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –≤–∏–±—Ä–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
          try {
            if (window.Telegram && window.Telegram.WebApp) {
              window.Telegram.WebApp.HapticFeedback.impactOccurred('medium');
            }
          } catch (e) {
            console.log('Haptic feedback not available');
          }
        }

        // –ê–Ω–∏–º–∞—Ü–∏—è —à–∞–º–ø–∞–Ω—Å–∫–æ–≥–æ
        createChampagneAnimation();

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        orderModal.style.display = 'none';
        notificationModal.style.display = 'block';
        currentOrder = null;
        
      } catch (error) {
        console.error("–û—à–∏–±–∫–∞:", error);
        alert('‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑.');
      }
    });

    // –°–æ–∑–¥–∞–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ —à–∞–º–ø–∞–Ω—Å–∫–æ–≥–æ
    function createChampagneAnimation() {
      champagneAnimation.innerHTML = '';
      for (let i = 0; i < 50; i++) {
        const bubble = document.createElement('div');
        bubble.className = 'champagne-bubble';
        bubble.style.left = Math.random() * 100 + '%';
        bubble.style.animationDelay = Math.random() * 2 + 's';
        bubble.style.width = (Math.random() * 10 + 5) + 'px';
        bubble.style.height = bubble.style.width;
        champagneAnimation.appendChild(bubble);
      }
      
      // –£–¥–∞–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
      setTimeout(() => {
        champagneAnimation.innerHTML = '';
      }, 3000);
    }

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ
    window.addEventListener('click', (e) => {
      if (e.target === authModal) authModal.style.display = 'none';
      if (e.target === registerModal) registerModal.style.display = 'none';
      if (e.target === orderModal) orderModal.style.display = 'none';
      if (e.target === ordersModal) ordersModal.style.display = 'none';
      if (e.target === notificationModal) notificationModal.style.display = 'none';
    });

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π
    initThemeToggle();
    initSwipe();
  </script>
</body>
</html>